{% load adminlte_helpers %}
{% load static %}

<!-- Left side column. contains the sidebar -->
<aside class="main-sidebar sidebar-dark-primary  elevation-4">
     <!-- Brand Logo -->
    {% block logo %}
        <a href="/" class="brand-link">
            <img src="{%static 'admin-lte/dist/img/AdminLTELogo.png' %}" alt="Zacchaeus Logo" 
                class="brand-image img-circle elevation-3" style="opacity: .8">
            {% block logo_text %}
                <span class="brand-text font-weight-light">
                    {{ settings.COMPANY }}
                </span>
            {% endblock %}
        </a>
    {% endblock %}
    <!-- sidebar: style can be found in sidebar.less -->
    <div class="sidebar">
        <!-- Sidebar user panel -->
        {% block user_panel %}
            <!-- Sidebar user panel (optional) -->
            <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                <div class="image">
                    <img src="{% avatar_url size=90 %}" class="img-circle elevation-2" alt="User Image">
                </div>
                <div class="info">
                    <a href="#" class="d-block">{% firstof request.user.get_full_name request.user.username %}</a>
                </div>
            </div>
        {% endblock %}

        {% block form %}{% endblock %}

        <!-- sidebar menu: : style can be found in sidebar.less -->
        {% block nav_links_ul %}
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column nav-child-indent nav-flat" data-widget="treeview" role="menu" data-accordion="false">
                    {% block nav_links_outer %}
                        <li class="nav-header">{% block nav_heading %}MAIN NAVIGATION{% endblock %}</li>

                        {% block nav_links %}
                            <li class="nav-item">
                                <a href="{% url 'dashboard' %}" class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                                    <i class="nav-icon fas fa-tachometer-alt"></i>
                                    <p>Dashboard</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'business' %}" 
                                    class="nav-link {% if request.resolver_match.url_name == 'business' or request.resolver_match.url_name == 'register_business' or request.resolver_match.url_name == 'add_address'  %}active{% endif %}">
                                    <i class="nav-icon fa fa-building"></i>
                                    <p>Business</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'mails' %}" class="nav-link {% if request.resolver_match.url_name == 'mails' %}active{% endif %}">
                                    <i class="nav-icon far fa-envelope"></i>
                                    <p>Mailbox <span class="badge badge-info right">3</span></p>
                                </a>
                            </li>
                            <li class="nav-item {% if request.resolver_match.url_name == 'sales' or request.resolver_match.url_name == 'purchases' or request.resolver_match.url_name == 'expenses' or request.resolver_match.url_name == 'carraiges' or request.resolver_match.url_name == 'returns' or request.resolver_match.url_name == 'incomes' %}menu-open{% endif %}">
                                <a href="#" class="nav-link {% if request.resolver_match.url_name == 'sales' or request.resolver_match.url_name == 'purchases' or request.resolver_match.url_name == 'expenses' or request.resolver_match.url_name == 'carraiges' or request.resolver_match.url_name == 'returns' or request.resolver_match.url_name == 'incomes' %}active{% endif %}">
                                    <i class="nav-icon fas fa-copy"></i>
                                    <p>Transactions <i class="fas fa-angle-left right"></i></p>
                                </a>
                                <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="{% url 'sales' %}" class="nav-link {% if request.resolver_match.url_name == 'sales' %}active{% endif %}">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Sales</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'sales_returns' %}" class="nav-link {% if request.resolver_match.url_name == 'sales_returns' %}active{% endif %}">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Sales Returns</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'purchases' %}" class="nav-link {% if request.resolver_match.url_name == 'purchases' %}active{% endif %}">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Purchases</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'purchases_returns' %}" class="nav-link {% if request.resolver_match.url_name == 'purchases_returns' %}active{% endif %}">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Purchases Returns</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'expenses' %}" class="nav-link {% if request.resolver_match.url_name == 'expenses' %}active{% endif %}">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Expenses</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'incomes' %}" class="nav-link {% if request.resolver_match.url_name == 'incomes' %}active{% endif %}">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Incomes</p>
                                    </a>
                                </li>
                                </ul>
                            </li>
                            <li class="nav-item {% if request.resolver_match.url_name == 'assets' or request.resolver_match.url_name == 'stock' or request.resolver_match.url_name == 'liabilities' %}menu-open{% endif %}">
                                <a href="#" class="nav-link {% if request.resolver_match.url_name == 'assets' or request.resolver_match.url_name == 'stock' or request.resolver_match.url_name == 'liabilities' %}active{% endif %}">
                                    <i class="nav-icon fas fa-book"></i>
                                    <p>Book Tracking <i class="fas fa-angle-left right"></i></p>
                                </a>
                                <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="{% url 'stock' %}" class="nav-link {% if request.resolver_match.url_name == 'stock' %}active{% endif %}">
                                        <i class="nav-icon fas fa-chart-bar"></i>
                                        <p>Stock Turn Over</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'assets' %}" class="nav-link {% if request.resolver_match.url_name == 'assets' %}active{% endif %}">
                                        <i class="nav-icon fas fa-chart-line"></i>
                                        <p>Assets</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'liabilities' %}" class="nav-link {% if request.resolver_match.url_name == 'liabilities' %}assets{% endif %}">
                                        <i class="nav-icon fas fa-chart-area"></i>
                                        <p>Liabilities</p>
                                    </a>
                                </li>
                                </ul>
                            </li>
                            <li class="nav-item {% if request.resolver_match.url_name == 'income-statement' or request.resolver_match.url_name == 'balance-sheet' %}menu-open{% endif %}">
                                <a href="#" class="nav-link {% if request.resolver_match.url_name == 'income-statement' or request.resolver_match.url_name == 'balance-sheet' %}active{% endif %}">
                                    <i class="nav-icon fas fa-table"></i>
                                    <p>Statements <i class="fas fa-angle-left right"></i></p>
                                </a>
                                <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="{% url 'income-statement' %}" class="nav-link {% if request.resolver_match.url_name == 'income-statement' %}active{% endif %}">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Income Statements</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="{% url 'balance-sheet' %}" class="nav-link {% if request.resolver_match.url_name == 'balance-sheet' %}active{% endif %}">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Balance Sheets</p>
                                    </a>
                                </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'charts' %}" class="nav-link {% if request.resolver_match.url_name == 'charts' %}active{% endif %}">
                                    <i class="nav-icon fas fa-chart-pie"></i>
                                    <p>Charts</p>
                                </a>
                            </li>
                            <li class="nav-header">TAXATION</li>
                            <li class="nav-item">
                                <a href="{% url 'taxation' %}" class="nav-link {% if request.resolver_match.url_name == 'taxation' %}active{% endif %}">
                                    <i class="nav-icon far fa-calendar-alt"></i>
                                    <p>Taxes</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'policies' %}" class="nav-link {% if request.resolver_match.url_name == 'policies' %}active{% endif %}">
                                    <i class="nav-icon fas fa-columns"></i>
                                    <p>Policies</p>
                                </a>
                            </li>
                            <li class="nav-header">SETTINGS</li>
                            <li class="nav-item">
                                <a href="{% url 'users' %}" class="nav-link {% if request.resolver_match.url_name == 'users' or request.resolver_match.url_name == 'add_user' or request.resolver_match.url_name == 'view_user' or request.resolver_match.url_name == 'change_user' %}active{% endif %}">
                                    <i class="nav-icon fas fa-users"></i>
                                    <p>Users</p>
                                </a>
                            </li>
                        {% endblock nav_links %}
                    {% endblock nav_links_outer %}
                </ul>
            </nav>
        {% endblock nav_links_ul %}
    </div>
    <!-- /.sidebar -->
</aside>
